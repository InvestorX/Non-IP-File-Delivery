<Window x:Class="NonIPConfigTool.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        xmlns:vm="clr-namespace:NonIPConfigTool.ViewModels"
        mc:Ignorable="d"
        Title="Non-IP File Delivery è¨­å®šãƒ„ãƒ¼ãƒ«" 
        Height="700" 
        Width="900"
        WindowStartupLocation="CenterScreen"
        ui:WindowHelper.UseModernWindowStyle="True">
    
    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ -->
        <Menu Grid.Row="0">
            <MenuItem Header="ãƒ•ã‚¡ã‚¤ãƒ«(_F)">
                <MenuItem Header="æ–°è¦ä½œæˆ(_N)" Command="{Binding NewConfigCommand}" InputGestureText="Ctrl+N"/>
                <MenuItem Header="é–‹ã(_O)..." Command="{Binding OpenConfigCommand}" InputGestureText="Ctrl+O"/>
                <Separator/>
                <MenuItem Header="ä¿å­˜(_S)" Command="{Binding SaveConfigCommand}" InputGestureText="Ctrl+S"/>
                <MenuItem Header="åå‰ã‚’ä»˜ã‘ã¦ä¿å­˜(_A)..." Command="{Binding SaveConfigAsCommand}" InputGestureText="Ctrl+Shift+S"/>
                <Separator/>
                <MenuItem Header="çµ‚äº†(_X)" Command="{Binding ExitCommand}" InputGestureText="Alt+F4"/>
            </MenuItem>
            <MenuItem Header="ãƒ„ãƒ¼ãƒ«(_T)">
                <MenuItem Header="è¨­å®šã®æ¤œè¨¼(_V)" Command="{Binding ValidateConfigCommand}" InputGestureText="F5"/>
            </MenuItem>
            <MenuItem Header="ãƒ˜ãƒ«ãƒ—(_H)">
                <MenuItem Header="ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±(_A)"/>
            </MenuItem>
        </Menu>

        <!-- ã‚¿ãƒ–ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
        <TabControl Grid.Row="1" Margin="10">
            
            <!-- ä¸€èˆ¬è¨­å®šã‚¿ãƒ– -->
            <TabItem Header="âš™ï¸ ä¸€èˆ¬è¨­å®š">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20">
                        <TextBlock Text="ä¸€èˆ¬è¨­å®š" Style="{StaticResource TitleTextBlockStyle}" Margin="0,0,0,20"/>
                        
                        <TextBlock Text="å‹•ä½œãƒ¢ãƒ¼ãƒ‰" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <ComboBox ItemsSource="{Binding ModeOptions}" 
                                  SelectedItem="{Binding Config.Mode, Mode=TwoWay}"
                                  Margin="0,0,0,15"/>
                        
                        <TextBlock Text="ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <ComboBox ItemsSource="{Binding LogLevelOptions}" 
                                  SelectedItem="{Binding Config.LogLevel, Mode=TwoWay}"
                                  Margin="0,0,0,15"/>

                        <TextBlock Text="èª¬æ˜Ž" FontWeight="SemiBold" Margin="0,10,0,5"/>
                        <TextBlock TextWrapping="Wrap" Margin="0,0,0,15">
                            <Run Text="å‹•ä½œãƒ¢ãƒ¼ãƒ‰:"/>
                            <LineBreak/>
                            <Run Text="â€¢ ActiveStandby: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–-ã‚¹ã‚¿ãƒ³ãƒã‚¤æ§‹æˆ"/>
                            <LineBreak/>
                            <Run Text="â€¢ LoadBalancing: è² è·åˆ†æ•£æ§‹æˆ"/>
                            <LineBreak/><LineBreak/>
                            <Run Text="ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«: Debug, Info, Warning, Error ã‹ã‚‰é¸æŠž"/>
                        </TextBlock>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã‚¿ãƒ– -->
            <TabItem Header="ðŸŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20">
                        <TextBlock Text="ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š" Style="{StaticResource TitleTextBlockStyle}" Margin="0,0,0,20"/>
                        
                        <TextBlock Text="ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <ComboBox ItemsSource="{Binding AvailableInterfaces}" 
                                  SelectedItem="{Binding Config.Interface, Mode=TwoWay, ValidatesOnNotifyDataErrors=True}"
                                  IsEditable="True"
                                  Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding Config.(Validation.Errors)[0].ErrorContent}" 
                                   Foreground="Red" 
                                   FontSize="11"
                                   Margin="0,0,0,10"
                                   Visibility="{Binding Config.(Validation.HasError), Converter={StaticResource BooleanToVisibilityConverter}}"/>
                        
                        <TextBlock Text="ãƒ•ãƒ¬ãƒ¼ãƒ ã‚µã‚¤ã‚º (bytes)" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBox Text="{Binding Config.FrameSize, Mode=TwoWay, ValidatesOnNotifyDataErrors=True}"
                                 Margin="0,0,0,15"/>
                        
                        <CheckBox Content="æš—å·åŒ–ã‚’æœ‰åŠ¹ã«ã™ã‚‹" 
                                  IsChecked="{Binding Config.Encryption, Mode=TwoWay}"
                                  Margin="0,0,0,15"/>
                        
                        <TextBlock Text="EtherType" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBox Text="{Binding Config.EtherType, Mode=TwoWay}"
                                 Margin="0,0,0,15"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚¿ãƒ– -->
            <TabItem Header="ðŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20">
                        <TextBlock Text="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š" Style="{StaticResource TitleTextBlockStyle}" Margin="0,0,0,20"/>
                        
                        <CheckBox Content="ã‚¦ã‚¤ãƒ«ã‚¹ã‚¹ã‚­ãƒ£ãƒ³ã‚’æœ‰åŠ¹ã«ã™ã‚‹" 
                                  IsChecked="{Binding Config.EnableVirusScan, Mode=TwoWay}"
                                  Margin="0,0,0,15"/>
                        
                        <TextBlock Text="ã‚¹ã‚­ãƒ£ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ (ms)" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBox Text="{Binding Config.ScanTimeout, Mode=TwoWay, ValidatesOnNotifyDataErrors=True}"
                                 Margin="0,0,0,15"/>
                        
                        <TextBlock Text="éš”é›¢ãƒ‘ã‚¹" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBox Text="{Binding Config.QuarantinePath, Mode=TwoWay}"
                                 Margin="0,0,0,15"/>
                        
                        <TextBlock Text="ãƒãƒªã‚·ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBox Text="{Binding Config.PolicyFile, Mode=TwoWay}"
                                 Margin="0,0,0,15"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¨­å®šã‚¿ãƒ– -->
            <TabItem Header="âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20">
                        <TextBlock Text="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¨­å®š" Style="{StaticResource TitleTextBlockStyle}" Margin="0,0,0,20"/>
                        
                        <TextBlock Text="æœ€å¤§ãƒ¡ãƒ¢ãƒª (MB)" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBox Text="{Binding Config.MaxMemoryMB, Mode=TwoWay, ValidatesOnNotifyDataErrors=True}"
                                 Margin="0,0,0,15"/>
                        
                        <TextBlock Text="ãƒãƒƒãƒ•ã‚¡ã‚µã‚¤ã‚º (bytes)" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBox Text="{Binding Config.BufferSize, Mode=TwoWay, ValidatesOnNotifyDataErrors=True}"
                                 Margin="0,0,0,15"/>
                        
                        <TextBlock Text="ã‚¹ãƒ¬ãƒƒãƒ‰ãƒ—ãƒ¼ãƒ«" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <ComboBox Margin="0,0,0,15">
                            <ComboBoxItem Content="auto" IsSelected="True"/>
                            <ComboBoxItem Content="manual"/>
                        </ComboBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- å†—é•·åŒ–è¨­å®šã‚¿ãƒ– -->
            <TabItem Header="ðŸ”„ å†—é•·åŒ–">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20">
                        <TextBlock Text="å†—é•·åŒ–è¨­å®š" Style="{StaticResource TitleTextBlockStyle}" Margin="0,0,0,20"/>
                        
                        <TextBlock Text="ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆé–“éš” (ms)" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBox Text="{Binding Config.HeartbeatInterval, Mode=TwoWay, ValidatesOnNotifyDataErrors=True}"
                                 Margin="0,0,0,15"/>
                        
                        <TextBlock Text="ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ (ms)" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBox Text="{Binding Config.FailoverTimeout, Mode=TwoWay, ValidatesOnNotifyDataErrors=True}"
                                 Margin="0,0,0,15"/>
                        
                        <TextBlock Text="ãƒ‡ãƒ¼ã‚¿åŒæœŸãƒ¢ãƒ¼ãƒ‰" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <ComboBox Margin="0,0,0,15">
                            <ComboBoxItem Content="realtime" IsSelected="True"/>
                            <ComboBoxItem Content="batch"/>
                        </ComboBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

        </TabControl>

        <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="10,5">
            <ui:ProgressRing IsActive="{Binding IsLoading}" Width="20" Height="20" Margin="0,0,10,0"/>
            <TextBlock Text="{Binding StatusMessage}" VerticalAlignment="Center"/>
        </StackPanel>

    </Grid>
</Window>
