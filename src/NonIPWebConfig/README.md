# Non-IP Web Configuration Tool

Web UI設定ツール完全版 - 非IP送受信機の設定を管理するためのWebベースの設定ツール

## 概要

このツールは、非IP送受信機A（クライアント側）および非IP送受信機B（サーバー側）の設定を、Webブラウザから簡単に管理できるようにします。

## 機能

### デバイス選択
- 📡 非IP送受信機A（クライアント側）
- 📡 非IP送受信機B（サーバー側）

デバイスを切り替えることで、それぞれの設定を個別に管理できます。

### 設定項目

#### 🔧 一般設定
- 動作モード（アクティブ-スタンバイ / ロードバランシング）
- ログレベル（Debug / Info / Warning / Error）

#### 🌐 ネットワーク設定
- ネットワークインターフェース選択
- ローカルMACアドレス（自動表示）
- リモートMACアドレス
- フレームサイズ
- 暗号化設定
- カスタムEtherType

#### 📂 プロトコル設定

**FTP設定**
- 有効/無効
- リッスンポート（Device Aのみ）
- ターゲットホスト
- ターゲットポート

**SFTP設定**
- 有効/無効
- リッスンポート（Device Aのみ）
- ターゲットホスト
- ターゲットポート

**PostgreSQL設定**
- 有効/無効
- リッスンポート（Device Aのみ）
- ターゲットホスト
- ターゲットポート

#### 🔐 セキュリティ設定
- ウイルススキャン有効化
- 詳細検査有効化
- スキャンタイムアウト
- 隔離パス
- YARAルールパス

#### ⚡ パフォーマンス設定
- 受信バッファサイズ
- 最大同時セッション数
- ゼロコピー有効化
- 最大メモリ使用量
- バッファサイズ

#### 🔄 冗長化設定
- ハートビート間隔
- フェイルオーバータイムアウト
- データ同期モード

#### 📊 ステータス
- システムステータス
- 稼働時間
- スループット
- 接続数
- メモリ使用量
- バージョン情報

## 使用方法

### 起動

```bash
cd src/NonIPWebConfig
dotnet run
```

### アクセス

ブラウザで以下のURLを開きます：
```
http://localhost:8080
```

### 設定の変更

1. デバイス（AまたはB）を選択
2. 各タブで設定を変更
3. 「💾 設定を保存」ボタンをクリック
4. 対応する非IP送受信機サービスを再起動

### API エンドポイント

- `GET /api/interfaces` - ネットワークインターフェース一覧
- `GET /api/config/a` - Device A の設定取得
- `GET /api/config/b` - Device B の設定取得
- `POST /api/config/a` - Device A の設定保存
- `POST /api/config/b` - Device B の設定保存
- `GET /api/status` - システムステータス取得

## 設定ファイル

このツールは以下のファイルを管理します：

- `appsettings.json` - Device A の設定（JSON形式）
- `appsettings.b.json` - Device B の設定（JSON形式）
- `config.ini` - 共通設定（INI形式）

## 技術スタック

- **バックエンド**: ASP.NET Core 8.0 (Minimal API)
- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **スタイル**: モダンなレスポンシブデザイン
- **機能**: リアルタイム更新、タブナビゲーション、デバイス切り替え

## 対応ブラウザ

- ✅ Google Chrome / Microsoft Edge（推奨）
- ✅ Mozilla Firefox
- ✅ Safari

## セキュリティ考慮事項

- このツールは内部ネットワーク専用です
- 本番環境では、適切な認証・認可を追加してください
- HTTPS経由でのアクセスを推奨します

## トラブルシューティング

### ポート8080が使用中の場合

`Program.cs` の最後の行を編集してポートを変更：
```csharp
app.Run("http://localhost:8080"); // 他のポート番号に変更
```

### 設定が保存されない場合

1. 実行ユーザーに書き込み権限があることを確認
2. 設定ファイルのパスが正しいことを確認
3. ログを確認して詳細なエラーメッセージを確認

## ライセンス

このプロジェクトのライセンスに従います。

## 貢献

バグ報告や機能要望は、GitHubのIssueで受け付けています。
